# Dayflow HRMS (Human Resource Management System)

> **Enterprise-Grade User Management & HR Solution**

Dayflow HRMS is a specialized Enterprise Resource Planning (ERP) module designed to handle employee management with strict corporate rules. Unlike standard applications, this system enforces **Admin-controlled onboarding**, meaning employees cannot sign themselves upâ€”they must be generated by the system with specific credentials.

Built with the **MERN Stack** (MySQL, Express, React, Node.js) using **Raw SQL** for maximum control over database queries.

---

## ğŸš€ Key Features

### 1. Enterprise Identity Generation
The system uses a strict algorithm to generate unique Employee IDs automatically.

- **Format:** `[CompanyCode][NameCode][Year][Serial]`
- **Logic:**
  - `OI` â†’ First 2 letters of Company (e.g., Odoo India)
  - `JO` â†’ First 2 letters of First Name (e.g., John)
  - `DO` â†’ First 2 letters of Last Name (e.g., Doe)
  - `2026` â†’ Current Year
  - `0001` â†’ Serial Number (Auto-incremented per year)
- **Result:** `OIJODO20260001`

### 2. Security & Authentication
- **Restricted Signup:** Public registration is disabled. Only **HR Officers** and **Admins** can access the user generation portal.
- **Dual Login:** Employees can sign in using either their **Email** or their **Employee ID**.
- **Auto-Passwords:** The system generates a random temporary password for new users.
- **Tech:** JSON Web Tokens (JWT) for session management and `bcryptjs` for password hashing.

### 3. Professional UI/UX Design
Designed with a "No True Black/White" philosophy to reduce eye strain and maintain a professional aesthetic.

- **Primary Background:** `rgb(94.51% 96.078% 97.647%)` (Soft Off-White)
- **Primary Text/Action:** `rgb(11.765% 16.078% 23.137%)` (Deep Corporate Blue-Grey)
- **Font Family:** *Segoe UI*, wide and legible.

---

## ğŸ› ï¸ Tech Stack

- **Frontend:** React.js (Vite), React Router DOM, Axios.
- **Backend:** Node.js, Express.js.
- **Database:** MySQL (Standard `mysql2` driver - No ORM used).
- **Tools:** Postman (API Testing), MySQL Workbench.

---

## âš™ï¸ Installation & Setup Guide

### 1. Prerequisites
- Node.js (v16 or higher)
- MySQL Server (installed locally or cloud)
- Git

### 2. Clone Repository
```bash
git clone https://github.com/rudrakshvaidya/odoo-HRMS.git
cd odoo-HRMS
```

### 3. Database Configuration (Crucial)
This project relies on a specific table structure. Open MySQL Workbench. Create a new schema/database named `dayflow_hrms`. Run this exact SQL query:

```sql
USE dayflow_hrms;

DROP TABLE IF EXISTS users;

CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    fullname VARCHAR(100) NOT NULL,
    employee_id VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    phone VARCHAR(20),
    password VARCHAR(255) NOT NULL,
    role ENUM('Employee', 'Admin', 'HR') DEFAULT 'Employee',
    company_name VARCHAR(100) DEFAULT 'Odoo India',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### 4. Backend Setup
```bash
cd server
npm install
```

Create a `.env` file in the `server/` folder:
```
PORT=5000
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=YOUR_MYSQL_PASSWORD
DB_NAME=dayflow_hrms
JWT_SECRET=supersecurekey2026
```

Start the backend:
```bash
npm run dev
```

### 5. Frontend Setup
Open a new terminal:
```bash
cd client
npm install
npm run dev
```

---

## ğŸ“– Usage Manual

### How to Log In
- **Identifier:** Enter your Employee ID (e.g., `XYJODO20260001`) OR your Email Address.
- **Password:** Enter the password provided by your HR manager.

### How to Create New Employees (HR/Admin Only)
1. Log in as an Admin or HR Officer.
2. Navigate to the hidden `/signup` route (or click "Create New User" on the Dashboard).
3. Fill in the Full Name, Email, Role, and Company.
4. Click "Generate User".
5. **Success:** A blue box will appear displaying the generated Employee ID and Temporary Password.
6. **Action:** Copy these credentials and send them to the new employee manually.

---

## ğŸ“‚ Project Structure
```
odoo-HRMS/
â”œâ”€â”€ client/                  # React Frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/      # Navbar, Cards
â”‚   â”‚   â”œâ”€â”€ pages/           # Login, Signup (Admin), Dashboard
â”‚   â”‚   â”œâ”€â”€ index.css        # Global variables (RGB Colors)
â”‚   â”‚   â””â”€â”€ api.js           # Axios instance
â”œâ”€â”€ server/                  # Node.js Backend
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ db.js            # MySQL Connection (mysql2 pool)
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ auth.js          # Logic for ID Generation & Login
â”‚   â”œâ”€â”€ index.js             # Server Entry Point
â”‚   â””â”€â”€ .env                 # Environment Config
â””â”€â”€ README.md
```

---

## ğŸ› Troubleshooting

- **Error: "Table 'users' doesn't exist"**  
  You skipped Step 3. You must run the SQL CREATE TABLE command in MySQL Workbench manually because we are not using an ORM to sync models.

- **Error: "db.query is not a function"**  
  You are likely using an old `db.js` file configured for Sequelize. Ensure you are using the `mysql2` driver configuration provided in the documentation.

---

**Author:** Yash Kulkarni
```
